### 作为消息系统
和传统企业消息系统有什么区别？  
传统的消息系统有两种模型：队列模式和发布-订阅模式。在队列模型中，多个consumer从一个server读取消息；发布-订阅模型中消息广播给所有的consumer。这两种模型都有自己的优点和弱点。队列模型中可以把数据的处理切分给多个consumer，你可以扩展自己的应用。发布-订阅模型中允许你将消息发给多个处理进程，但是每个处理者都得到了数据，不能切分处理消息。  

kafka同时兼顾了这两个方面。因为kafka的consumer group概念。作为queue，每个group内部可以切分处理收到的消息。作为发布-订阅模型，kafka又可以将消息广播给多个consumer group。  

kafka比传统消息系统有更强的顺序保证。  

传统的消息队列虽然在server端保持消息是有顺序的，但是当多个consumer处理消息时，因为不稳定的网络环境或者其他原因，consumer端并不能保证按照server端发送消息的顺序接收到消息。为了解决这个问题，传统消息系统有一个独有consumer，即只允许一个consumer从这个队列消费。  

kafka的优势在于分区概念的存在。因为分区，每个分区可以指定给consumer group中某个consumer消费，同时因为有多个分片，又可以保证负载均衡。  但要注意，相同的消费者组中不能有比分区更多的消费者，否则多出的消费者一直处于空等待，不会收到消息。

### 作为存储系统

实际上，所有将发布消息和消费消息解耦的消息系统都充当了存储系统的角色功能，因为需要先将消息存储下来。kafka和其他消息系统不同点在于，kafka是一个非常高效的存储系统。  

kafka中的消息存储会写到硬盘并且在集群中复制以容错。kafka允许生产者等待写消息的响应，以保证写成功。  

kafka的存储结构扩展性很好，对于50kb和50tb的数据性能表现是一样的。  

鉴于kafka存储保证和允许client控制读的位置，可以将kafka看做一种分布式文件系统。  

### 流处理
只是读写和存储流信息是不够的，kafka的目标是实时的流处理。  

